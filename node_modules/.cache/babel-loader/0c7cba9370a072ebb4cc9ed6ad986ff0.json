{"ast":null,"code":"var _jsxFileName = \"/Users/alemar/Workspace/MERNTASKS/cliente/src/components/auth/Login.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AlertaContext from \"../../context/alertas/alertaContext\";\nimport AuthContext from \"../../context/autenticacion/authContext\";\n\nconst Login = props => {\n  // extraer los valores del context\n  const alertaContext = useContext(AlertaContext);\n  const {\n    alerta,\n    mostrarAlerta\n  } = alertaContext;\n  const authContext = useContext(AuthContext);\n  const {\n    msg,\n    autenticado,\n    iniciarSesion\n  } = authContext; // En caso de que el password o usuario no exista\n\n  useEffect(() => {\n    if (autenticado) {\n      props.history.push(\"/proyectos\");\n    }\n\n    if (msg) {\n      mostrarAlerta(msg.msg, msg.categoria);\n    } // eslint-disable-next-line\n\n  }, [msg, autenticado, props.history]); // State para iniciar sesión\n\n  const [usuario, guardarUsuario] = useState({\n    email: \"\",\n    password: \"\"\n  }); // extraer de usuario\n\n  const {\n    email,\n    password\n  } = usuario;\n\n  const onChange = e => {\n    guardarUsuario({ ...usuario,\n      [e.target.name]: e.target.value\n    });\n  }; // Cuando el usuario quiere iniciar sesión\n\n\n  const onSubmit = e => {\n    e.preventDefault(); // Validar que no haya campos vacios\n\n    if (email.trim() === \"\" || password.trim() === \"\") {\n      mostrarAlerta(\"Todos los campos son obligatorios\", \"alerta-error\");\n      return;\n    } // Pasarlo al action\n\n\n    iniciarSesion({\n      email,\n      password\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-usuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, alerta ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `alerta ${alerta.categoria}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, alerta.msg) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-form sombra-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    \"data-cy\": \"titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"Iniciar Sesi\\xF3n\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    \"data-cy\": \"form-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    \"data-cy\": \"email-input\",\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"Tu Email\",\n    value: email,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    \"data-cy\": \"password-input\",\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    placeholder: \"Tu Password\",\n    value: password,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primario btn-block\",\n    value: \"Iniciar Sesi\\xF3n\",\n    \"data-cy\": \"submit-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/nueva-cuenta\",\n    className: \"enlace-cuenta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"Obtener Cuenta\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/alemar/Workspace/MERNTASKS/cliente/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","Link","AlertaContext","AuthContext","Login","props","alertaContext","alerta","mostrarAlerta","authContext","msg","autenticado","iniciarSesion","history","push","categoria","usuario","guardarUsuario","email","password","onChange","e","target","name","value","onSubmit","preventDefault","trim"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,aAAP,MAA0B,qCAA1B;AACA,OAAOC,WAAP,MAAwB,yCAAxB;;AAEA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AACvB;AACA,QAAMC,aAAa,GAAGP,UAAU,CAACG,aAAD,CAAhC;AACA,QAAM;AAAEK,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAA4BF,aAAlC;AAEA,QAAMG,WAAW,GAAGV,UAAU,CAACI,WAAD,CAA9B;AACA,QAAM;AAAEO,IAAAA,GAAF;AAAOC,IAAAA,WAAP;AAAoBC,IAAAA;AAApB,MAAsCH,WAA5C,CANuB,CAQvB;;AACAT,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIW,WAAJ,EAAiB;AACfN,MAAAA,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,YAAnB;AACD;;AAED,QAAIJ,GAAJ,EAAS;AACPF,MAAAA,aAAa,CAACE,GAAG,CAACA,GAAL,EAAUA,GAAG,CAACK,SAAd,CAAb;AACD,KAPa,CAQd;;AACD,GATQ,EASN,CAACL,GAAD,EAAMC,WAAN,EAAmBN,KAAK,CAACQ,OAAzB,CATM,CAAT,CATuB,CAoBvB;;AACA,QAAM,CAACG,OAAD,EAAUC,cAAV,IAA4BnB,QAAQ,CAAC;AACzCoB,IAAAA,KAAK,EAAE,EADkC;AAEzCC,IAAAA,QAAQ,EAAE;AAF+B,GAAD,CAA1C,CArBuB,CA0BvB;;AACA,QAAM;AAAED,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBH,OAA5B;;AAEA,QAAMI,QAAQ,GAAIC,CAAD,IAAO;AACtBJ,IAAAA,cAAc,CAAC,EACb,GAAGD,OADU;AAEb,OAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFb,KAAD,CAAd;AAID,GALD,CA7BuB,CAoCvB;;;AACA,QAAMC,QAAQ,GAAIJ,CAAD,IAAO;AACtBA,IAAAA,CAAC,CAACK,cAAF,GADsB,CAGtB;;AACA,QAAIR,KAAK,CAACS,IAAN,OAAiB,EAAjB,IAAuBR,QAAQ,CAACQ,IAAT,OAAoB,EAA/C,EAAmD;AACjDnB,MAAAA,aAAa,CAAC,mCAAD,EAAsC,cAAtC,CAAb;AACA;AACD,KAPqB,CAStB;;;AACAI,IAAAA,aAAa,CAAC;AAAEM,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAD,CAAb;AACD,GAXD;;AAaA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGZ,MAAM,gBACL;AAAK,IAAA,SAAS,EAAG,UAASA,MAAM,CAACQ,SAAU,EAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+CR,MAAM,CAACG,GAAtD,CADK,GAEH,IAHN,eAKE;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,eAAQ,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAGE;AAAM,IAAA,QAAQ,EAAEe,QAAhB;AAA0B,eAAQ,YAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AACE,eAAQ,aADV;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,EAAE,EAAC,OAHL;AAIE,IAAA,IAAI,EAAC,OAJP;AAKE,IAAA,WAAW,EAAC,UALd;AAME,IAAA,KAAK,EAAEP,KANT;AAOE,IAAA,QAAQ,EAAEE,QAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAcE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,eAAQ,gBADV;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,EAAE,EAAC,UAHL;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,WAAW,EAAC,aALd;AAME,IAAA,KAAK,EAAED,QANT;AAOE,IAAA,QAAQ,EAAEC,QAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAdF,eA2BE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAGE,IAAA,KAAK,EAAC,mBAHR;AAIE,eAAQ,cAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA3BF,CAHF,eAwCE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,eAAV;AAA2B,IAAA,SAAS,EAAC,eAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxCF,CALF,CADF;AAoDD,CAtGD;;AAwGA,eAAehB,KAAf","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AlertaContext from \"../../context/alertas/alertaContext\";\nimport AuthContext from \"../../context/autenticacion/authContext\";\n\nconst Login = (props) => {\n  // extraer los valores del context\n  const alertaContext = useContext(AlertaContext);\n  const { alerta, mostrarAlerta } = alertaContext;\n\n  const authContext = useContext(AuthContext);\n  const { msg, autenticado, iniciarSesion } = authContext;\n\n  // En caso de que el password o usuario no exista\n  useEffect(() => {\n    if (autenticado) {\n      props.history.push(\"/proyectos\");\n    }\n\n    if (msg) {\n      mostrarAlerta(msg.msg, msg.categoria);\n    }\n    // eslint-disable-next-line\n  }, [msg, autenticado, props.history]);\n\n  // State para iniciar sesión\n  const [usuario, guardarUsuario] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  // extraer de usuario\n  const { email, password } = usuario;\n\n  const onChange = (e) => {\n    guardarUsuario({\n      ...usuario,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  // Cuando el usuario quiere iniciar sesión\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    // Validar que no haya campos vacios\n    if (email.trim() === \"\" || password.trim() === \"\") {\n      mostrarAlerta(\"Todos los campos son obligatorios\", \"alerta-error\");\n      return;\n    }\n\n    // Pasarlo al action\n    iniciarSesion({ email, password });\n  };\n\n  return (\n    <div className=\"form-usuario\">\n      {alerta ? (\n        <div className={`alerta ${alerta.categoria}`}>{alerta.msg}</div>\n      ) : null}\n\n      <div className=\"contenedor-form sombra-dark\">\n        <h1 data-cy=\"titulo\">Iniciar Sesión</h1>\n\n        <form onSubmit={onSubmit} data-cy=\"form-login\">\n          <div className=\"campo-form\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              data-cy=\"email-input\"\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              placeholder=\"Tu Email\"\n              value={email}\n              onChange={onChange}\n            />\n          </div>\n\n          <div className=\"campo-form\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              data-cy=\"password-input\"\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"Tu Password\"\n              value={password}\n              onChange={onChange}\n            />\n          </div>\n\n          <div className=\"campo-form\">\n            <input\n              type=\"submit\"\n              className=\"btn btn-primario btn-block\"\n              value=\"Iniciar Sesión\"\n              data-cy=\"submit-login\"\n            />\n          </div>\n        </form>\n\n        <Link to={\"/nueva-cuenta\"} className=\"enlace-cuenta\">\n          Obtener Cuenta\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}
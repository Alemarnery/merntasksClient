{"ast":null,"code":"var _jsxFileName = \"/Users/alemar/Workspace/MERNTASKS/cliente/src/components/auth/NuevaCuenta.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AlertaContext from \"../../context/alertas/alertaContext\";\nimport AuthContext from \"../../context/autenticacion/authContext\";\n\nconst NuevaCuenta = props => {\n  // extraer los valores del context\n  const alertaContext = useContext(AlertaContext);\n  const {\n    alerta,\n    mostrarAlerta\n  } = alertaContext;\n  const authContext = useContext(AuthContext);\n  const {\n    msg,\n    autenticado,\n    registrarUsuario\n  } = authContext; // En caso de que el usuario se haya autenticado o registrado o sea un registro duplicado\n\n  useEffect(() => {\n    if (autenticado) {\n      props.history.push(\"/proyectos\");\n    }\n\n    if (msg) {\n      mostrarAlerta(msg.msg, msg.categoria);\n    } // eslint-disable-next-line\n\n  }, [msg, autenticado, props.history]); // State para iniciar sesión\n\n  const [usuario, guardarUsuario] = useState({\n    nombre: \"\",\n    email: \"\",\n    password: \"\",\n    confirmar: \"\"\n  }); // extraer de usuario\n\n  const {\n    nombre,\n    email,\n    password,\n    confirmar\n  } = usuario;\n\n  const onChange = e => {\n    guardarUsuario({ ...usuario,\n      [e.target.name]: e.target.value\n    });\n  }; // Cuando el usuario quiere iniciar sesión\n\n\n  const onSubmit = e => {\n    e.preventDefault(); // Validar que no haya campos vacios\n\n    if (nombre.trim() === \"\" || email.trim() === \"\" || password.trim() === \"\" || confirmar.trim() === \"\") {\n      mostrarAlerta(\"Todos los campos son obligatorios\", \"alerta-error\");\n      return;\n    } // Password minimo de 6 caracteres\n\n\n    if (password.length < 6) {\n      mostrarAlerta(\"El password debe ser de al menos 6 caracteres\", \"alerta-error\");\n      return;\n    } // Los 2 passwords son iguales\n\n\n    if (password !== confirmar) {\n      mostrarAlerta(\"Los passwords no son iguales\", \"alerta-error\");\n      return;\n    } // Pasarlo al action\n\n\n    registrarUsuario({\n      nombre,\n      email,\n      password\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-usuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, alerta ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `alerta ${alerta.categoria}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, alerta.msg) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-form sombra-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    \"data-cy\": \"titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Obtener una cuenta\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    \"data-cy\": \"nueva-cuenta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"nombre\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"Nombre\"), /*#__PURE__*/React.createElement(\"input\", {\n    \"data-cy\": \"nombre-input\",\n    type: \"text\",\n    id: \"nombre\",\n    name: \"nombre\",\n    placeholder: \"Tu Nombre\",\n    value: nombre,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    \"data-cy\": \"email-input\",\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"Tu Email\",\n    value: email,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    placeholder: \"Tu Password\",\n    value: password,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"confirmar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, \"Confirmar Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    \"data-cy\": \"password-input\",\n    type: \"password\",\n    id: \"confirmar\",\n    name: \"confirmar\",\n    placeholder: \"Repite tu Password\",\n    value: confirmar,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    \"data-cy\": \"btn-input\",\n    type: \"submit\",\n    className: \"btn btn-primario btn-block\",\n    value: \"Registrarme\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"enlace-cuenta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, \"Volver a Iniciar Sesi\\xF3n\")));\n};\n\nexport default NuevaCuenta;","map":{"version":3,"sources":["/Users/alemar/Workspace/MERNTASKS/cliente/src/components/auth/NuevaCuenta.js"],"names":["React","useState","useContext","useEffect","Link","AlertaContext","AuthContext","NuevaCuenta","props","alertaContext","alerta","mostrarAlerta","authContext","msg","autenticado","registrarUsuario","history","push","categoria","usuario","guardarUsuario","nombre","email","password","confirmar","onChange","e","target","name","value","onSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AlertaContext from \"../../context/alertas/alertaContext\";\nimport AuthContext from \"../../context/autenticacion/authContext\";\n\nconst NuevaCuenta = (props) => {\n  // extraer los valores del context\n  const alertaContext = useContext(AlertaContext);\n  const { alerta, mostrarAlerta } = alertaContext;\n\n  const authContext = useContext(AuthContext);\n  const { msg, autenticado, registrarUsuario } = authContext;\n\n  // En caso de que el usuario se haya autenticado o registrado o sea un registro duplicado\n  useEffect(() => {\n    if (autenticado) {\n      props.history.push(\"/proyectos\");\n    }\n\n    if (msg) {\n      mostrarAlerta(msg.msg, msg.categoria);\n    }\n    // eslint-disable-next-line\n  }, [msg, autenticado, props.history]);\n\n  // State para iniciar sesión\n  const [usuario, guardarUsuario] = useState({\n    nombre: \"\",\n    email: \"\",\n    password: \"\",\n    confirmar: \"\",\n  });\n\n  // extraer de usuario\n  const { nombre, email, password, confirmar } = usuario;\n\n  const onChange = (e) => {\n    guardarUsuario({\n      ...usuario,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  // Cuando el usuario quiere iniciar sesión\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    // Validar que no haya campos vacios\n    if (\n      nombre.trim() === \"\" ||\n      email.trim() === \"\" ||\n      password.trim() === \"\" ||\n      confirmar.trim() === \"\"\n    ) {\n      mostrarAlerta(\"Todos los campos son obligatorios\", \"alerta-error\");\n      return;\n    }\n\n    // Password minimo de 6 caracteres\n    if (password.length < 6) {\n      mostrarAlerta(\n        \"El password debe ser de al menos 6 caracteres\",\n        \"alerta-error\"\n      );\n      return;\n    }\n\n    // Los 2 passwords son iguales\n    if (password !== confirmar) {\n      mostrarAlerta(\"Los passwords no son iguales\", \"alerta-error\");\n      return;\n    }\n\n    // Pasarlo al action\n    registrarUsuario({\n      nombre,\n      email,\n      password,\n    });\n  };\n\n  return (\n    <div className=\"form-usuario\">\n      {alerta ? (\n        <div className={`alerta ${alerta.categoria}`}>{alerta.msg}</div>\n      ) : null}\n      <div className=\"contenedor-form sombra-dark\">\n        <h1 data-cy=\"titulo\">Obtener una cuenta</h1>\n\n        <form onSubmit={onSubmit} data-cy=\"nueva-cuenta\">\n          <div className=\"campo-form\">\n            <label htmlFor=\"nombre\">Nombre</label>\n            <input\n              data-cy=\"nombre-input\"\n              type=\"text\"\n              id=\"nombre\"\n              name=\"nombre\"\n              placeholder=\"Tu Nombre\"\n              value={nombre}\n              onChange={onChange}\n            />\n          </div>\n\n          <div className=\"campo-form\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              data-cy=\"email-input\"\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              placeholder=\"Tu Email\"\n              value={email}\n              onChange={onChange}\n            />\n          </div>\n\n          <div className=\"campo-form\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"Tu Password\"\n              value={password}\n              onChange={onChange}\n            />\n          </div>\n\n          <div className=\"campo-form\">\n            <label htmlFor=\"confirmar\">Confirmar Password</label>\n            <input\n              data-cy=\"password-input\"\n              type=\"password\"\n              id=\"confirmar\"\n              name=\"confirmar\"\n              placeholder=\"Repite tu Password\"\n              value={confirmar}\n              onChange={onChange}\n            />\n          </div>\n\n          <div className=\"campo-form\">\n            <input\n              data-cy=\"btn-input\"\n              type=\"submit\"\n              className=\"btn btn-primario btn-block\"\n              value=\"Registrarme\"\n            />\n          </div>\n        </form>\n\n        <Link to={\"/\"} className=\"enlace-cuenta\">\n          Volver a Iniciar Sesión\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default NuevaCuenta;\n"]},"metadata":{},"sourceType":"module"}